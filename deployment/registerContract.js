console.log('Starting contract deployment.....');

baseContractAbi=[{"constant":false,"inputs":[],"name":"kill","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"amountRaised","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"_owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"funders","outputs":[{"name":"addr","type":"address"},{"name":"amount","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"_greeting","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":true,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"backer","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"FundsTransfer","type":"event"}]

baseContractBytecode='0x6060604052341561000c57fe5b5b60018054600160a060020a03191633600160a060020a03161790555b5b6103ec806100396000396000f300606060405236156100515763ffffffff60e060020a60003504166341c0e1b581146101265780637b3e5e7b14610138578063b2bdfa7b1461015a578063dc0d3dff14610186578063f3b4f1c9146101bc575b6101245b60408051808201909152600160a060020a0333168152346020820181905260028054919291610087826001830161034f565b8154811061009157fe5b906000526020600020906002020160005b508151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0391821617825560209283015160019092019190915560038054840190556040805133909216825291810183905281517fe4a4217f2dc0b69a9a45e3fd49d47fc0e2081b6590b9c8bfa4b7d3f17dfdf917929181900390910190a15b50565b005b341561012e57fe5b61012461024c565b005b341561014057fe5b610148610274565b60408051918252519081900360200190f35b341561016257fe5b61016a61027a565b60408051600160a060020a039092168252519081900360200190f35b341561018e57fe5b610199600435610289565b60408051600160a060020a03909316835260208301919091528051918290030190f35b34156101c457fe5b6101cc6102c1565b604080516020808252835181830152835191928392908301918501908083838215610212575b80518252602083111561021257601f1990920191602091820191016101f2565b505050905090810190601f16801561023e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60015433600160a060020a039081169116141561027157600154600160a060020a0316ff5b5b565b60035481565b600154600160a060020a031681565b600280548290811061029757fe5b906000526020600020906002020160005b508054600190910154600160a060020a03909116915082565b6000805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156103475780601f1061031c57610100808354040283529160200191610347565b820191906000526020600020905b81548152906001019060200180831161032a57829003601f168201915b505050505081565b81548183558181151161037b5760020281600202836000526020600020918201910161037b9190610381565b5b505050565b6103bd91905b808211156103b957805473ffffffffffffffffffffffffffffffffffffffff1916815560006001820155600201610387565b5090565b905600a165627a7a72305820a3bedcc8c1ba3fe5331e110bfe296abac438127aef4879c2934874d1b827bb4b0029';

var _greeting = "Hello World!";
var greeterContract = web3.eth.contract(baseContractAbi);
var greeter = greeterContract.new(
   _greeting,
   {
     from:web3.eth.accounts[0], 
     data: baseContractBytecode, 
     gas: 3000000}, 
function(e, contract){
    console.log(e, contract);
    if (typeof contract.address != 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
})
console.log('Completed contract deployment.....');
